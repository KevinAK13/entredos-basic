import{T as Me,q as n,L as Ne,x as Fe,M as k,o as g,U as Ae,D as F,V as Ie,W as ze,t as Le,X as Re,A as Oe,_ as De,R as U,Y as Se,Z as _e,$ as G,C as Ue}from"./index-RKqXj_WO.js";import{d as O}from"./Data-B4IBMP8B.js";import{I as $e,a as Be,M as Ke,N as Ve,F as Ze,b as me,P as He,c as We,d as Ye}from"./SidebarG-_9o7vRcd.js";import"./14-CqWbU_hP.js";function Ge(c){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.5 9.75v10.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V9.75a.25.25 0 0 0-.25-.25h-2.5a.75.75 0 0 1 0-1.5h2.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 18.25 22H5.75A1.75 1.75 0 0 1 4 20.25V9.75C4 8.784 4.784 8 5.75 8h2.5a.75.75 0 0 1 0 1.5h-2.5a.25.25 0 0 0-.25.25Zm7.03-8.53 3.25 3.25a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-1.97-1.97v10.69a.75.75 0 0 1-1.5 0V3.56L9.28 5.53a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.25-3.25a.75.75 0 0 1 1.06 0Z"},child:[]}]})(c)}const Je=({property:c,shareProperty:r,setHoveredProperty:s})=>{const t=e=>new Intl.NumberFormat("en-US").format(e);return n.jsx("div",{className:"p-3",onMouseEnter:()=>s(c),onMouseLeave:()=>s(null),children:n.jsx("div",{className:"bg-white rounded-md shadow-lg overflow-hidden mb-1 transform transition-transform hover:scale-105 duration-300",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{className:"w-full h-80 lg:h-80 object-cover font-light uppercase",src:c.image,alt:c.title.props.defaultMessage}),n.jsx(Ne,{to:`/properties/${c.id}`,className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/10 hover:bg-black/20 to-transparent flex items-end p-4 transition-all ease-in-out",children:n.jsxs("div",{className:"text-white text-xs font-light",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Fe,{className:"mr-2","aria-hidden":"true"}),n.jsxs("p",{className:"text-sm",children:[c.location.municipality,", ",c.location.state]})]}),n.jsx("h3",{className:"text-lg lg:text-base font-light",children:c.title}),n.jsxs("h3",{className:"text-lg lg:text-base font-light uppercase",children:["$",t(c.price)," MXN",c.landpermt===!0&&n.jsx("span",{className:"text-xs ml-1",children:n.jsx(k,{id:"property.perSquareMeter",defaultMessage:"/ por mÂ²"})})]})]})}),n.jsx("div",{className:"absolute bottom-2 right-2 flex space-x-2",children:n.jsx("button",{className:"text-white bg-white/10 text-lg p-2 rounded-full backdrop-blur-sm shadow-sm transition duration-300 ease-in-out transform hover:scale-105",onClick:()=>r(c),"aria-label":"Share property",children:n.jsx(Ge,{})})})]})})})},Xe=({currentPage:c,propertiesPerPage:r,totalProperties:s,paginate:t})=>{const e=[],o=Math.ceil(s/r);for(let l=1;l<=o;l++)e.push(l);return n.jsxs("div",{className:"flex justify-center items-center mt-6 mb-12 space-x-2",children:[c>1&&n.jsx("button",{onClick:()=>{t(c-1),localStorage.setItem("currentPage",c-1)},className:"p-2 bg-white text-gray-900 border border-gray-300 rounded-full shadow hover:bg-gray-100 transition duration-200 ease-in-out",children:n.jsx($e,{})}),e.map(l=>n.jsx("button",{onClick:()=>{t(l),localStorage.setItem("currentPage",l)},className:`px-3.5 py-2 rounded-full text-sm font-medium transition duration-200 ease-in-out shadow ${c===l?"bg-gray-900 text-white":"bg-white text-gray-900 border border-gray-300 hover:bg-gray-100"}`,children:l},l)),c<o&&n.jsx("button",{onClick:()=>{t(c+1),localStorage.setItem("currentPage",c+1)},className:"p-2 bg-white text-gray-900 border border-gray-300 rounded-full shadow hover:bg-gray-100 transition duration-200 ease-in-out",children:n.jsx(Be,{})})]})},ge=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],te=1,K=8;class ce{static from(r){if(!(r instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[s,t]=new Uint8Array(r,0,2);if(s!==219)throw new Error("Data does not appear to be in a KDBush format.");const e=t>>4;if(e!==te)throw new Error(`Got v${e} data when expected v${te}.`);const o=ge[t&15];if(!o)throw new Error("Unrecognized array type.");const[l]=new Uint16Array(r,2,1),[a]=new Uint32Array(r,4,1);return new ce(a,l,o,r)}constructor(r,s=64,t=Float64Array,e){if(isNaN(r)||r<0)throw new Error(`Unpexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+s,2),65535),this.ArrayType=t,this.IndexArrayType=r<65536?Uint16Array:Uint32Array;const o=ge.indexOf(this.ArrayType),l=r*2*this.ArrayType.BYTES_PER_ELEMENT,a=r*this.IndexArrayType.BYTES_PER_ELEMENT,i=(8-a%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${t}.`);e&&e instanceof ArrayBuffer?(this.data=e,this.ids=new this.IndexArrayType(this.data,K,r),this.coords=new this.ArrayType(this.data,K+a+i,r*2),this._pos=r*2,this._finished=!0):(this.data=new ArrayBuffer(K+l+a+i),this.ids=new this.IndexArrayType(this.data,K,r),this.coords=new this.ArrayType(this.data,K+a+i,r*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(te<<4)+o]),new Uint16Array(this.data,2,1)[0]=s,new Uint32Array(this.data,4,1)[0]=r)}add(r,s){const t=this._pos>>1;return this.ids[t]=t,this.coords[this._pos++]=r,this.coords[this._pos++]=s,t}finish(){const r=this._pos>>1;if(r!==this.numItems)throw new Error(`Added ${r} items when expected ${this.numItems}.`);return oe(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(r,s,t,e){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:l,nodeSize:a}=this,i=[0,o.length-1,0],d=[];for(;i.length;){const h=i.pop()||0,u=i.pop()||0,p=i.pop()||0;if(u-p<=a){for(let y=p;y<=u;y++){const f=l[2*y],v=l[2*y+1];f>=r&&f<=t&&v>=s&&v<=e&&d.push(o[y])}continue}const x=p+u>>1,b=l[2*x],j=l[2*x+1];b>=r&&b<=t&&j>=s&&j<=e&&d.push(o[x]),(h===0?r<=b:s<=j)&&(i.push(p),i.push(x-1),i.push(1-h)),(h===0?t>=b:e>=j)&&(i.push(x+1),i.push(u),i.push(1-h))}return d}within(r,s,t){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:e,coords:o,nodeSize:l}=this,a=[0,e.length-1,0],i=[],d=t*t;for(;a.length;){const h=a.pop()||0,u=a.pop()||0,p=a.pop()||0;if(u-p<=l){for(let y=p;y<=u;y++)xe(o[2*y],o[2*y+1],r,s)<=d&&i.push(e[y]);continue}const x=p+u>>1,b=o[2*x],j=o[2*x+1];xe(b,j,r,s)<=d&&i.push(e[x]),(h===0?r-t<=b:s-t<=j)&&(a.push(p),a.push(x-1),a.push(1-h)),(h===0?r+t>=b:s+t>=j)&&(a.push(x+1),a.push(u),a.push(1-h))}return i}}function oe(c,r,s,t,e,o){if(e-t<=s)return;const l=t+e>>1;ke(c,r,l,t,e,o),oe(c,r,s,t,l-1,1-o),oe(c,r,s,l+1,e,1-o)}function ke(c,r,s,t,e,o){for(;e>t;){if(e-t>600){const d=e-t+1,h=s-t+1,u=Math.log(d),p=.5*Math.exp(2*u/3),x=.5*Math.sqrt(u*p*(d-p)/d)*(h-d/2<0?-1:1),b=Math.max(t,Math.floor(s-h*p/d+x)),j=Math.min(e,Math.floor(s+(d-h)*p/d+x));ke(c,r,s,b,j,o)}const l=r[2*s+o];let a=t,i=e;for(V(c,r,t,s),r[2*e+o]>l&&V(c,r,t,e);a<i;){for(V(c,r,a,i),a++,i--;r[2*a+o]<l;)a++;for(;r[2*i+o]>l;)i--}r[2*t+o]===l?V(c,r,t,i):(i++,V(c,r,i,e)),i<=s&&(t=i+1),s<=i&&(e=i-1)}}function V(c,r,s,t){se(c,s,t),se(r,2*s,2*t),se(r,2*s+1,2*t+1)}function se(c,r,s){const t=c[r];c[r]=c[s],c[s]=t}function xe(c,r,s,t){const e=c-s,o=r-t;return e*e+o*o}const qe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:c=>c},ye=Math.fround||(c=>r=>(c[0]=+r,c[0]))(new Float32Array(1)),D=2,z=3,ne=4,I=5,Pe=6;class Qe{constructor(r){this.options=Object.assign(Object.create(qe),r),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(r){const{log:s,minZoom:t,maxZoom:e}=this.options;s&&console.time("total time");const o=`prepare ${r.length} points`;s&&console.time(o),this.points=r;const l=[];for(let i=0;i<r.length;i++){const d=r[i];if(!d.geometry)continue;const[h,u]=d.geometry.coordinates,p=ye(J(h)),x=ye(X(u));l.push(p,x,1/0,i,-1,1),this.options.reduce&&l.push(0)}let a=this.trees[e+1]=this._createTree(l);s&&console.timeEnd(o);for(let i=e;i>=t;i--){const d=+Date.now();a=this.trees[i]=this._createTree(this._cluster(a,i)),s&&console.log("z%d: %d clusters in %dms",i,a.numItems,+Date.now()-d)}return s&&console.timeEnd("total time"),this}getClusters(r,s){let t=((r[0]+180)%360+360)%360-180;const e=Math.max(-90,Math.min(90,r[1]));let o=r[2]===180?180:((r[2]+180)%360+360)%360-180;const l=Math.max(-90,Math.min(90,r[3]));if(r[2]-r[0]>=360)t=-180,o=180;else if(t>o){const u=this.getClusters([t,e,180,l],s),p=this.getClusters([-180,e,o,l],s);return u.concat(p)}const a=this.trees[this._limitZoom(s)],i=a.range(J(t),X(l),J(o),X(e)),d=a.data,h=[];for(const u of i){const p=this.stride*u;h.push(d[p+I]>1?ve(d,p,this.clusterProps):this.points[d[p+z]])}return h}getChildren(r){const s=this._getOriginId(r),t=this._getOriginZoom(r),e="No cluster with the specified id.",o=this.trees[t];if(!o)throw new Error(e);const l=o.data;if(s*this.stride>=l.length)throw new Error(e);const a=this.options.radius/(this.options.extent*Math.pow(2,t-1)),i=l[s*this.stride],d=l[s*this.stride+1],h=o.within(i,d,a),u=[];for(const p of h){const x=p*this.stride;l[x+ne]===r&&u.push(l[x+I]>1?ve(l,x,this.clusterProps):this.points[l[x+z]])}if(u.length===0)throw new Error(e);return u}getLeaves(r,s,t){s=s||10,t=t||0;const e=[];return this._appendLeaves(e,r,s,t,0),e}getTile(r,s,t){const e=this.trees[this._limitZoom(r)],o=Math.pow(2,r),{extent:l,radius:a}=this.options,i=a/l,d=(t-i)/o,h=(t+1+i)/o,u={features:[]};return this._addTileFeatures(e.range((s-i)/o,d,(s+1+i)/o,h),e.data,s,t,o,u),s===0&&this._addTileFeatures(e.range(1-i/o,d,1,h),e.data,o,t,o,u),s===o-1&&this._addTileFeatures(e.range(0,d,i/o,h),e.data,-1,t,o,u),u.features.length?u:null}getClusterExpansionZoom(r){let s=this._getOriginZoom(r)-1;for(;s<=this.options.maxZoom;){const t=this.getChildren(r);if(s++,t.length!==1)break;r=t[0].properties.cluster_id}return s}_appendLeaves(r,s,t,e,o){const l=this.getChildren(s);for(const a of l){const i=a.properties;if(i&&i.cluster?o+i.point_count<=e?o+=i.point_count:o=this._appendLeaves(r,i.cluster_id,t,e,o):o<e?o++:r.push(a),r.length===t)break}return o}_createTree(r){const s=new ce(r.length/this.stride|0,this.options.nodeSize,Float32Array);for(let t=0;t<r.length;t+=this.stride)s.add(r[t],r[t+1]);return s.finish(),s.data=r,s}_addTileFeatures(r,s,t,e,o,l){for(const a of r){const i=a*this.stride,d=s[i+I]>1;let h,u,p;if(d)h=Ce(s,i,this.clusterProps),u=s[i],p=s[i+1];else{const j=this.points[s[i+z]];h=j.properties;const[y,f]=j.geometry.coordinates;u=J(y),p=X(f)}const x={type:1,geometry:[[Math.round(this.options.extent*(u*o-t)),Math.round(this.options.extent*(p*o-e))]],tags:h};let b;d||this.options.generateId?b=s[i+z]:b=this.points[s[i+z]].id,b!==void 0&&(x.id=b),l.features.push(x)}}_limitZoom(r){return Math.max(this.options.minZoom,Math.min(Math.floor(+r),this.options.maxZoom+1))}_cluster(r,s){const{radius:t,extent:e,reduce:o,minPoints:l}=this.options,a=t/(e*Math.pow(2,s)),i=r.data,d=[],h=this.stride;for(let u=0;u<i.length;u+=h){if(i[u+D]<=s)continue;i[u+D]=s;const p=i[u],x=i[u+1],b=r.within(i[u],i[u+1],a),j=i[u+I];let y=j;for(const f of b){const v=f*h;i[v+D]>s&&(y+=i[v+I])}if(y>j&&y>=l){let f=p*j,v=x*j,M,T=-1;const P=((u/h|0)<<5)+(s+1)+this.points.length;for(const N of b){const C=N*h;if(i[C+D]<=s)continue;i[C+D]=s;const E=i[C+I];f+=i[C]*E,v+=i[C+1]*E,i[C+ne]=P,o&&(M||(M=this._map(i,u,!0),T=this.clusterProps.length,this.clusterProps.push(M)),o(M,this._map(i,C)))}i[u+ne]=P,d.push(f/y,v/y,1/0,P,-1,y),o&&d.push(T)}else{for(let f=0;f<h;f++)d.push(i[u+f]);if(y>1)for(const f of b){const v=f*h;if(!(i[v+D]<=s)){i[v+D]=s;for(let M=0;M<h;M++)d.push(i[v+M])}}}}return d}_getOriginId(r){return r-this.points.length>>5}_getOriginZoom(r){return(r-this.points.length)%32}_map(r,s,t){if(r[s+I]>1){const l=this.clusterProps[r[s+Pe]];return t?Object.assign({},l):l}const e=this.points[r[s+z]].properties,o=this.options.map(e);return t&&o===e?Object.assign({},o):o}}function ve(c,r,s){return{type:"Feature",id:c[r+z],properties:Ce(c,r,s),geometry:{type:"Point",coordinates:[et(c[r]),tt(c[r+1])]}}}function Ce(c,r,s){const t=c[r+I],e=t>=1e4?`${Math.round(t/1e3)}k`:t>=1e3?`${Math.round(t/100)/10}k`:t,o=c[r+Pe],l=o===-1?{}:Object.assign({},s[o]);return Object.assign(l,{cluster:!0,cluster_id:c[r+z],point_count:t,point_count_abbreviated:e})}function J(c){return c/360+.5}function X(c){const r=Math.sin(c*Math.PI/180),s=.5-.25*Math.log((1+r)/(1-r))/Math.PI;return s<0?0:s>1?1:s}function et(c){return(c-.5)*360}function tt(c){const r=(180-c*360)*Math.PI/180;return 360*Math.atan(Math.exp(r))/Math.PI-90}const st=({properties:c,hoveredProperty:r})=>{const[s,t]=g.useState({latitude:20.1,longitude:-100.074306,zoom:6.2,width:"100%",height:"100%"}),[e,o]=g.useState(null),[l,a]=g.useState([]),[i,d]=g.useState(null),h=g.useRef(null),u=g.useRef(null),p="pk.eyJ1Ijoia2V2aW5neCIsImEiOiJjbHkxeDlvbHcxMWljMnZwdzRlZzUxa3llIn0.gxi_qPrJhZqnLN019kgG9g",x=g.useCallback(()=>{o(null)},[]),b=f=>new Intl.NumberFormat("en-US").format(f);g.useEffect(()=>{const f=v=>{u.current&&!u.current.contains(v.target)&&x()};return e?document.addEventListener("mousedown",f):document.removeEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[e,x]),g.useEffect(()=>{r&&(o(r),t(f=>({...f,latitude:r.coordinates.lat,longitude:r.coordinates.lng,zoom:15})))},[r]),g.useEffect(()=>{const f=c.map(M=>({type:"Feature",properties:{cluster:!1,propertyId:M.id,...M},geometry:{type:"Point",coordinates:[M.coordinates.lng,M.coordinates.lat]}})),v=new Qe({radius:75,maxZoom:20});v.load(f),d(v)},[c]),g.useEffect(()=>{if(i&&h.current){const f=h.current.getMap().getBounds().toArray().flat(),v=i.getClusters(f,Math.round(s.zoom));a(v)}},[i,s]);const j=g.useCallback(()=>{if(i&&h.current){const f=h.current.getMap().getBounds().toArray().flat(),v=i.getClusters(f,Math.round(s.zoom));a(v)}},[i,s.zoom]),y=f=>Math.max(20,f*2);return n.jsx("div",{className:"relative w-full h-full rounded-sm overflow-hidden shadow-lg",children:n.jsxs(Ke,{...s,ref:h,mapStyle:"mapbox://styles/mapbox/light-v11",mapboxAccessToken:p,onMove:f=>t(f.viewState),onLoad:j,scrollZoom:!0,dragPan:!0,doubleClickZoom:!0,touchZoom:!0,minZoom:5,maxZoom:14.2,className:"rounded-sm",children:[n.jsx("div",{className:"absolute right-4 top-4",children:n.jsx(Ve,{className:"rounded-lg bg-white shadow-md"})}),n.jsx("div",{className:"absolute right-4 bottom-4",children:n.jsx(Ze,{container:document.querySelector("body"),className:"rounded-lg bg-white shadow-md"})}),l.map(f=>{const[v,M]=f.geometry.coordinates,{cluster:T,point_count:P}=f.properties,N=y(s.zoom);return T?n.jsx(me,{latitude:M,longitude:v,offsetLeft:-(N/2),offsetTop:-(N/2),children:n.jsx("div",{className:"cluster-marker rounded-full text-sm bg-gray-800 text-white border-2 border-gray-600 flex justify-center items-center cursor-pointer shadow-lg",style:{width:`${N+10}px`,height:`${N+10}px`},onClick:()=>{const C=Math.min(i.getClusterExpansionZoom(f.id),20);t(E=>({...E,latitude:M,longitude:v,zoom:C}))},children:P})},`cluster-${f.id}`):n.jsx(me,{latitude:M,longitude:v,offsetLeft:-(N/2),offsetTop:-(N/2),children:n.jsx("div",{className:"w-40 h-40 bg-gray-400/20 rounded-full justify-center items-center flex",style:{width:`${N+42}px`,height:`${N+42}px`},children:n.jsx("div",{className:"w-12 h-12 bg-gray-400/40 rounded-full justify-center items-center flex",style:{width:`${N+12}px`,height:`${N+12}px`},children:n.jsx("div",{className:"rounded-full bg-black justify-center cursor-pointer shadow-md flex items-center transition-transform transform hover:scale-110",style:{width:`${N-12}px`,height:`${N-12}px`},onClick:()=>o(f.properties),children:n.jsx("div",{className:"bg-gray-900 rounded-full",style:{width:`${N-12}px`,height:`${N-12}px`}})})})})},`property-${f.properties.propertyId}`)}),e&&n.jsx(He,{latitude:e.coordinates.lat,longitude:e.coordinates.lng,closeButton:!1,closeOnClick:!1,onClose:x,anchor:"bottom",focusAfterOpen:!0,className:"custom-popup",children:n.jsxs("div",{ref:u,style:{position:"relative"},children:[n.jsx("img",{src:e.image,alt:e.title,className:"custom-popup-img"}),n.jsx("div",{className:"custom-popup-content",children:n.jsxs(Ne,{to:`/properties/${e.id}`,onClick:x,children:[n.jsx("h3",{className:"custom-popup-title",children:e.title}),n.jsxs("p",{className:"custom-popup-price",children:["$",b(e.price)," MXN",e.landpermt===!0&&n.jsx("span",{className:"text-xs uppercase ml-1",children:n.jsx(k,{id:"property.perSquareMeter",defaultMessage:"/ por mÂ²"})})]}),n.jsx("ul",{className:"custom-popup-features",children:e.features.map((f,v)=>n.jsxs("li",{className:"custom-popup-feature",children:[f.icon,n.jsx("span",{className:"ml-1",children:f.label})]},v))})]})})]})})]})})},nt=()=>{const[c,r]=g.useState(!1),[s,t]=g.useState(!0),e=g.useRef(0);Ae(),g.useEffect(()=>{const l=()=>{const a=window.pageYOffset||document.documentElement.scrollTop;a>e.current&&a>100?t(!1):a<e.current&&t(!0),e.current=a<=0?0:a,r(a>800)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]);const o=` w-full justify-center py-2 mx-auto px-10 top-0 text-xs z-10 transition-all duration-500 transform ${s?"translate-y-0":"-translate-y-full"} ${c?"bg-white/80 text-black shadow-lg backdrop-blur-md -webkit-backdrop-filter: blur(20px)":"bg-transparent text-gray-900"}`;return n.jsx("nav",{className:"hidden lg:flex justify-between items-center","aria-label":"Main Navigation",children:n.jsx("div",{className:o,children:n.jsxs("div",{className:"max-w-full mt-2 mx-auto flex justify-between items-center",children:[n.jsx("div",{className:"flex-1 px-2 flex justify-start",children:n.jsx(rt,{isScrolled:c})}),n.jsx("div",{className:"flex-1 flex justify-center",children:n.jsx("a",{href:"/",className:"flex items-center","aria-label":"Home",children:n.jsx("img",{src:c?F.logo2:F.logo2,alt:`${F.companyName} Logo`,className:"w-24 transition-all ease-in-out transform hover:scale-105",width:"256",height:"auto"})})}),n.jsxs("div",{className:"flex items-center space-x-4 flex-1 justify-end",children:[n.jsx(be,{href:"/",messageId:"navbar.company",subMenuItems:[{label:n.jsx(k,{id:"navbar.aboutUs",defaultMessage:"About Us"}),href:"/about"},{label:n.jsx(k,{id:"navbar.services",defaultMessage:"Services"}),href:"/services"}],isScrolled:c}),n.jsx(be,{href:"/contact",messageId:"navbar.contact",isScrolled:c}),n.jsx(Ie,{isScrolled:c})]})]})})})},be=({href:c,messageId:r,subMenuItems:s,isScrolled:t})=>{const[e,o]=g.useState(!1),l=g.useRef(null);return n.jsxs("div",{className:"relative group",onMouseEnter:()=>{clearTimeout(l.current),o(!0)},onMouseLeave:()=>{l.current=setTimeout(()=>{o(!1)},200)},children:[n.jsx("a",{href:c,className:`flex items-center py-2 px-4 text-xl third-font font-light transition-all ease-in-out transform ${t?"text-black":"text-gray-900"} hover:bg-gray-200/30 rounded-lg`,children:n.jsx(k,{id:r})}),s&&n.jsx(ze,{children:e&&n.jsx(Le.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"absolute top-full mt-3 w-48 bg-white text-gray-900 rounded-md shadow-md z-50 border border-gray-200",children:n.jsx("ul",{className:"py-2",children:s.map((a,i)=>n.jsx("li",{className:"text-base text-left font-light transition-all ease-in-out",children:n.jsx("a",{href:a.href,className:"block px-6 py-2 hover:bg-gray-100 w-full h-full",children:a.label})},i))})})})]})},rt=({isScrolled:c})=>{const[r,s]=g.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>s(!0),className:`flex items-center py-2 px-4 text-xl third-font font-light transition-all ease-in-out transform ${c?"text-black":"text-gray-900"} hover:bg-gray-200/30 rounded-lg`,children:n.jsx(k,{id:"navbar.publishproperty",defaultMessage:"Publicar Propiedad"})}),n.jsx(Re,{isOpen:r,onClose:()=>s(!1)})]})};function it(c){return Me({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z"},child:[]}]})(c)}const we=({searchTerm:c,setSearchTerm:r})=>{const s=Oe();return n.jsx("div",{className:"relative w-full lg:w-full border-b border-gray-200 py-2 mb-6",children:n.jsxs("div",{className:"flex items-center bg-white overflow-hidden",children:[n.jsx("input",{type:"text",placeholder:s.formatMessage({id:"section.searchPlaceholder",defaultMessage:"Search by property type, city, state..."}),value:c,onChange:t=>r(t.target.value),className:"w-full bg-transparent py-3 px-6 text-xs font-light uppercase tracking-wider text-gray-900 focus:outline-none placeholder-gray-600 third-font","aria-label":s.formatMessage({id:"section.searchAriaLabel",defaultMessage:"Search properties"})}),n.jsx("button",{className:"flex items-center justify-center p-3","aria-label":s.formatMessage({id:"section.searchButtonAriaLabel",defaultMessage:"Search"}),children:n.jsx(We,{className:"text-black",size:24})})]})})};function ot(c,r){c.prototype=Object.create(r.prototype),c.prototype.constructor=c,De(c,r)}function re(c){return c&&c.stopPropagation&&c.stopPropagation(),c&&c.preventDefault&&c.preventDefault(),!1}function ie(c){return c==null?[]:Array.isArray(c)?c.slice():[c]}function q(c){return c!==null&&c.length===1?c[0]:c.slice()}function Q(c){Object.keys(c).forEach(r=>{typeof document<"u"&&document.addEventListener(r,c[r],!1)})}function _(c,r){return ae(function(s,t){let e=s;return e<=t.min&&(e=t.min),e>=t.max&&(e=t.max),e}(c,r),r)}function ae(c,r){const s=(c-r.min)%r.step;let t=c-s;return 2*Math.abs(s)>=r.step&&(t+=s>0?r.step:-r.step),parseFloat(t.toFixed(5))}let le=function(c){function r(t){var e;(e=c.call(this,t)||this).onKeyUp=()=>{e.onEnd()},e.onMouseUp=()=>{e.onEnd(e.getMouseEventMap())},e.onTouchEnd=a=>{a.preventDefault(),e.onEnd(e.getTouchEventMap())},e.onBlur=()=>{e.setState({index:-1},e.onEnd(e.getKeyDownEventMap()))},e.onMouseMove=a=>{e.setState({pending:!0});const i=e.getMousePosition(a),d=e.getDiffPosition(i[0]),h=e.getValueFromPosition(d);e.move(h)},e.onTouchMove=a=>{if(a.touches.length>1)return;e.setState({pending:!0});const i=e.getTouchPosition(a);if(e.isScrolling===void 0){const u=i[0]-e.startPosition[0],p=i[1]-e.startPosition[1];e.isScrolling=Math.abs(p)>Math.abs(u)}if(e.isScrolling)return void e.setState({index:-1});const d=e.getDiffPosition(i[0]),h=e.getValueFromPosition(d);e.move(h)},e.onKeyDown=a=>{if(!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey))switch(e.setState({pending:!0}),a.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":a.preventDefault(),e.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":a.preventDefault(),e.moveUpByStep();break;case"Home":a.preventDefault(),e.move(e.props.min);break;case"End":a.preventDefault(),e.move(e.props.max);break;case"PageDown":a.preventDefault(),e.moveDownByStep(e.props.pageFn(e.props.step));break;case"PageUp":a.preventDefault(),e.moveUpByStep(e.props.pageFn(e.props.step))}},e.onSliderMouseDown=a=>{if(!e.props.disabled&&a.button!==2){if(e.setState({pending:!0}),!e.props.snapDragDisabled){const i=e.getMousePosition(a);e.forceValueFromPosition(i[0],d=>{e.start(d,i[0]),Q(e.getMouseEventMap())})}re(a)}},e.onSliderClick=a=>{if(!e.props.disabled&&e.props.onSliderClick&&!e.hasMoved){const i=e.getMousePosition(a),d=_(e.calcValue(e.calcOffsetFromPosition(i[0])),e.props);e.props.onSliderClick(d)}},e.createOnKeyDown=a=>i=>{e.props.disabled||(e.start(a),Q(e.getKeyDownEventMap()),re(i))},e.createOnMouseDown=a=>i=>{if(e.props.disabled||i.button===2)return;e.setState({pending:!0});const d=e.getMousePosition(i);e.start(a,d[0]),Q(e.getMouseEventMap()),re(i)},e.createOnTouchStart=a=>i=>{if(e.props.disabled||i.touches.length>1)return;e.setState({pending:!0});const d=e.getTouchPosition(i);e.startPosition=d,e.isScrolling=void 0,e.start(a,d[0]),Q(e.getTouchEventMap()),function(h){h.stopPropagation&&h.stopPropagation()}(i)},e.handleResize=()=>{const a=window.setTimeout(()=>{e.pendingResizeTimeouts.shift(),e.resize()},0);e.pendingResizeTimeouts.push(a)},e.renderThumb=(a,i)=>{const d=e.props.thumbClassName+" "+e.props.thumbClassName+"-"+i+" "+(e.state.index===i?e.props.thumbActiveClassName:""),h={ref:p=>{e["thumb"+i]=p},key:e.props.thumbClassName+"-"+i,className:d,style:a,onMouseDown:e.createOnMouseDown(i),onTouchStart:e.createOnTouchStart(i),onFocus:e.createOnKeyDown(i),tabIndex:0,role:"slider","aria-orientation":e.props.orientation,"aria-valuenow":e.state.value[i],"aria-valuemin":e.props.min,"aria-valuemax":e.props.max,"aria-label":Array.isArray(e.props.ariaLabel)?e.props.ariaLabel[i]:e.props.ariaLabel,"aria-labelledby":Array.isArray(e.props.ariaLabelledby)?e.props.ariaLabelledby[i]:e.props.ariaLabelledby,"aria-disabled":e.props.disabled},u={index:i,value:q(e.state.value),valueNow:e.state.value[i]};return e.props.ariaValuetext&&(h["aria-valuetext"]=typeof e.props.ariaValuetext=="string"?e.props.ariaValuetext:e.props.ariaValuetext(u)),e.props.renderThumb(h,u)},e.renderTrack=(a,i,d)=>{const h={key:e.props.trackClassName+"-"+a,className:e.props.trackClassName+" "+e.props.trackClassName+"-"+a,style:e.buildTrackStyle(i,e.state.upperBound-d)},u={index:a,value:q(e.state.value)};return e.props.renderTrack(h,u)};let o=ie(t.value);o.length||(o=ie(t.defaultValue)),e.pendingResizeTimeouts=[];const l=[];for(let a=0;a<o.length;a+=1)o[a]=_(o[a],t),l.push(a);return e.resizeObserver=null,e.resizeElementRef=U.createRef(),e.state={index:-1,upperBound:0,sliderLength:0,value:o,zIndices:l},e}ot(r,c);var s=r.prototype;return s.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},r.getDerivedStateFromProps=function(t,e){const o=ie(t.value);return o.length?e.pending?null:{value:o.map(l=>_(l,t))}:null},s.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},s.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},s.onEnd=function(t){t&&function(e){Object.keys(e).forEach(o=>{typeof document<"u"&&document.removeEventListener(o,e[o],!1)})}(t),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},s.getValue=function(){return q(this.state.value)},s.getClosestIndex=function(t){let e=Number.MAX_VALUE,o=-1;const{value:l}=this.state,a=l.length;for(let i=0;i<a;i+=1){const d=this.calcOffset(l[i]),h=Math.abs(t-d);h<e&&(e=h,o=i)}return o},s.getMousePosition=function(t){return[t["page"+this.axisKey()],t["page"+this.orthogonalAxisKey()]]},s.getTouchPosition=function(t){const e=t.touches[0];return[e["page"+this.axisKey()],e["page"+this.orthogonalAxisKey()]]},s.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},s.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},s.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},s.getValueFromPosition=function(t){const e=t/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return _(this.state.startValue+e,this.props)},s.getDiffPosition=function(t){let e=t-this.state.startPosition;return this.props.invert&&(e*=-1),e},s.resize=function(){const{slider:t,thumb0:e}=this;if(!t||!e)return;const o=this.sizeKey(),l=t.getBoundingClientRect(),a=t[o],i=l[this.posMaxKey()],d=l[this.posMinKey()],h=e.getBoundingClientRect()[o.replace("client","").toLowerCase()],u=a-h,p=Math.abs(i-d);this.state.upperBound===u&&this.state.sliderLength===p&&this.state.thumbSize===h||this.setState({upperBound:u,sliderLength:p,thumbSize:h})},s.calcOffset=function(t){const e=this.props.max-this.props.min;return e===0?0:(t-this.props.min)/e*this.state.upperBound},s.calcValue=function(t){return t/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},s.calcOffsetFromPosition=function(t){const{slider:e}=this,o=e.getBoundingClientRect(),l=o[this.posMaxKey()],a=o[this.posMinKey()];let i=t-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?l:a));return this.props.invert&&(i=this.state.sliderLength-i),i-=this.state.thumbSize/2,i},s.forceValueFromPosition=function(t,e){const o=this.calcOffsetFromPosition(t),l=this.getClosestIndex(o),a=_(this.calcValue(o),this.props),i=this.state.value.slice();i[l]=a;for(let d=0;d<i.length-1;d+=1)if(i[d+1]-i[d]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:i},()=>{e(l),this.fireChangeEvent("onChange")})},s.clearPendingResizeTimeouts=function(){do{const t=this.pendingResizeTimeouts.shift();clearTimeout(t)}while(this.pendingResizeTimeouts.length)},s.start=function(t,e){const o=this["thumb"+t];o&&o.focus();const{zIndices:l}=this.state;l.splice(l.indexOf(t),1),l.push(t),this.setState(a=>({startValue:a.value[t],startPosition:e!==void 0?e:a.startPosition,index:t,zIndices:l}))},s.moveUpByStep=function(t){t===void 0&&(t=this.props.step);const e=this.state.value[this.state.index],o=_(this.props.invert&&this.props.orientation==="horizontal"?e-t:e+t,this.props);this.move(Math.min(o,this.props.max))},s.moveDownByStep=function(t){t===void 0&&(t=this.props.step);const e=this.state.value[this.state.index],o=_(this.props.invert&&this.props.orientation==="horizontal"?e+t:e-t,this.props);this.move(Math.max(o,this.props.min))},s.move=function(t){const e=this.state.value.slice(),{index:o}=this.state,{length:l}=e,a=e[o];if(t===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:i,max:d,min:h,minDistance:u}=this.props;if(!i){if(o>0){const p=e[o-1];t<p+u&&(t=p+u)}if(o<l-1){const p=e[o+1];t>p-u&&(t=p-u)}}e[o]=t,i&&l>1&&(t>a?(this.pushSucceeding(e,u,o),function(p,x,b,j){for(let y=0;y<p;y+=1){const f=j-y*b;x[p-1-y]>f&&(x[p-1-y]=f)}}(l,e,u,d)):t<a&&(this.pushPreceding(e,u,o),function(p,x,b,j){for(let y=0;y<p;y+=1){const f=j+y*b;x[y]<f&&(x[y]=f)}}(l,e,u,h))),this.setState({value:e},this.fireChangeEvent.bind(this,"onChange"))},s.pushSucceeding=function(t,e,o){let l,a;for(l=o,a=t[l]+e;t[l+1]!==null&&a>t[l+1];l+=1,a=t[l]+e)t[l+1]=ae(a,this.props)},s.pushPreceding=function(t,e,o){for(let l=o,a=t[l]-e;t[l-1]!==null&&a<t[l-1];l-=1,a=t[l]-e)t[l-1]=ae(a,this.props)},s.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},s.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},s.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},s.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},s.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},s.fireChangeEvent=function(t){this.props[t]&&this.props[t](q(this.state.value),this.state.index)},s.buildThumbStyle=function(t,e){const o={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(e)+1};return o[this.posMinKey()]=t+"px",o},s.buildTrackStyle=function(t,e){const o={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return o[this.posMinKey()]=t,o[this.posMaxKey()]=e,o},s.buildMarkStyle=function(t){var e;return(e={position:"absolute"})[this.posMinKey()]=t,e},s.renderThumbs=function(t){const{length:e}=t,o=[];for(let a=0;a<e;a+=1)o[a]=this.buildThumbStyle(t[a],a);const l=[];for(let a=0;a<e;a+=1)l[a]=this.renderThumb(o[a],a);return l},s.renderTracks=function(t){const e=[],o=t.length-1;e.push(this.renderTrack(0,0,t[0]));for(let l=0;l<o;l+=1)e.push(this.renderTrack(l+1,t[l],t[l+1]));return e.push(this.renderTrack(o+1,t[o],this.state.upperBound)),e},s.renderMarks=function(){let{marks:t}=this.props;const e=this.props.max-this.props.min+1;return typeof t=="boolean"?t=Array.from({length:e}).map((o,l)=>l):typeof t=="number"&&(t=Array.from({length:e}).map((o,l)=>l).filter(o=>o%t==0)),t.map(parseFloat).sort((o,l)=>o-l).map(o=>{const l=this.calcOffset(o),a={key:o,className:this.props.markClassName,style:this.buildMarkStyle(l)};return this.props.renderMark(a)})},s.render=function(){const t=[],{value:e}=this.state,o=e.length;for(let d=0;d<o;d+=1)t[d]=this.calcOffset(e[d],d);const l=this.props.withTracks?this.renderTracks(t):null,a=this.renderThumbs(t),i=this.props.marks?this.renderMarks():null;return U.createElement("div",{ref:d=>{this.slider=d,this.resizeElementRef.current=d},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},l,a,i)},r}(U.Component);le.displayName="ReactSlider",le.defaultProps={min:0,max:100,step:1,pageFn:c=>10*c,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:c=>U.createElement("div",c),renderTrack:c=>U.createElement("div",c),renderMark:c=>U.createElement("span",c)};var at=le;const je=({minPrice:c,maxPrice:r,setMinPrice:s,setMaxPrice:t,formatPrice:e})=>n.jsxs("div",{className:"price-slider-container w-full",children:[n.jsxs("div",{className:"slider-container w-full px-4 lg:px-0 mt-8",children:[n.jsx("h2",{className:"my-2 py-2 text-sm text-center uppercase third-font font-light",children:n.jsx(k,{id:"slider.priceRange",defaultMessage:"Price Range"})}),n.jsx(at,{value:[c,r],min:0,max:5e7,step:1e3,onChange:a=>{s(a[0]),t(a[1])},className:"price-slider w-full mt-4",renderTrack:(a,i)=>n.jsx("div",{...a,style:{...a.style,height:"4px",borderRadius:"2px",background:i.index===1?"#333":"#F3F4F6"}}),renderThumb:a=>n.jsx("div",{...a,className:"flex items-center justify-center",children:n.jsx("div",{style:{height:"16px",width:"16px",backgroundColor:"#000000",borderRadius:"50%",border:"2px solid #ffff",marginTop:"-6px"}})}),ariaLabel:["Minimum Price","Maximum Price"]})]}),n.jsxs("div",{className:"flex justify-between pt-6 mt-8 mb-4 text-sm font-light tracking-wide third-font text-gray-700",children:[n.jsx("span",{children:e(c)}),n.jsx("span",{children:e(r)})]})]}),lt=({searchTerm:c,setSearchTerm:r,availabilityOptions:s,selectedAvailability:t,setSelectedAvailability:e,states:o,selectedState:l,setSelectedState:a,municipalities:i,selectedMunicipality:d,setSelectedMunicipality:h,propertyTypeOptions:u,selectedPropertyType:p,setSelectedPropertyType:x,minPrice:b,maxPrice:j,setMinPrice:y,setMaxPrice:f,resetFilters:v,filteredProperties:M})=>{const T=Se(),[P,N]=g.useState(!1),[C,E]=g.useState(t||"inStock"),[L,Z]=g.useState(p||[]),[H,ee]=g.useState({}),[w,A]=g.useState(!1),R=g.useRef([]),W=(m,S)=>{E(m),e(m),N(!0),$(S)},$=m=>{if(R.current[m]){const S=R.current[m];ee({width:S.offsetWidth,left:S.offsetLeft})}};g.useEffect(()=>{const S=new URLSearchParams(T.search).get("availability");S?(E(S),e(S)):(E("inStock"),e("inStock"))},[T.search,e]),g.useEffect(()=>{const m=s.findIndex(S=>S.value===C);m>=0&&$(m)},[C,s]);const ue=m=>{const S=L.includes(m)?L.filter(B=>B!==m):[...L,m];Z(S),x(S),N(!0)},de=m=>{a(m),N(!0)},he=m=>{h(m),N(!0)},Y={control:m=>({...m,borderRadius:"0.175rem",height:"auto",borderColor:"#E5E7EB",backgroundColor:"#FFF",color:"#333",boxShadow:"none","&:hover":{borderColor:"#888"},fontSize:"0.75rem",textTransform:"uppercase",padding:"0.25rem 0.75rem",minHeight:"40px"}),menu:m=>({...m,borderRadius:"0.175rem",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",backgroundColor:"#FFF",marginTop:"4px"}),option:(m,S)=>({...m,backgroundColor:S.isSelected?"#F0F0F0":"#FFF",color:"#333",fontSize:"0.75rem",textTransform:"uppercase",padding:"0.5rem 1rem","&:hover":{backgroundColor:"#F0F0F0"}}),placeholder:m=>({...m,fontSize:"0.75rem",textTransform:"uppercase",color:"#333"}),singleValue:m=>({...m,fontSize:"0.75rem",textTransform:"uppercase",color:"#333"}),input:m=>({...m,fontSize:"0.75rem",textTransform:"uppercase",color:"#333"})},pe=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m),fe=()=>{r(""),e("inStock"),E("inStock"),a(null),h(null),x([]),Z([]),y(0),f(5e7),N(!1);const m=s.findIndex(S=>S.value==="inStock");m>=0&&$(m)},Te=()=>A(!0),Ee=()=>A(!1);return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"lg:hidden p-3 fixed top-1 right-10 z-50",children:n.jsx("button",{onClick:Te,className:"flex items-center justify-center w-11 h-11 text-gray-900 rounded-full transform transition-transform duration-300 hover:scale-105  hover:text-black","aria-label":"Open Filters",children:n.jsx(_e,{className:"w-7 h-7"})})}),n.jsx("div",{className:`fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-start lg:hidden transition-opacity duration-300 ${w?"opacity-100 visible":"opacity-0 invisible"}`,children:n.jsxs("div",{className:`bg-white w-full h-full overflow-y-auto transform transition-transform duration-300 ${w?"translate-x-0":"-translate-x-full"}`,children:[n.jsx("div",{className:"flex justify-end p-4 fixed top-1 right-0 z-50",children:n.jsx("button",{onClick:Ee,className:"flex items-center justify-center w-11 h-11 bg-white text-black rounded-full transform transition-transform duration-300 hover:scale-110 hover:bg-white hover:text-black","aria-label":"Close Filters",children:n.jsx(it,{className:"w-7 h-7"})})}),n.jsxs("div",{className:"p-4 mt-16",children:[n.jsx(we,{searchTerm:c,setSearchTerm:r}),n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"relative inline-flex justify-center items-center w-full",children:[n.jsx("div",{className:"flex justify-center space-x-4",children:s.map((m,S)=>n.jsx("button",{ref:B=>R.current[S]=B,onClick:()=>W(m.value,S),className:`px-4 py-2 uppercase text-xs tracking-wider third-font transition-all ease-in-out duration-300 ${C===m.value?"bg-white font-semibold text-gray-900 border-b-2 border-gray-900":"bg-white text-gray-800 hover:text-gray-900"} focus:outline-none`,children:m.label},m.value))}),n.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 bg-gray-900 transition-all duration-300 ease-in-out",style:H})]})}),n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.map(m=>n.jsx("button",{onClick:()=>ue(m.value),className:`inline-block px-2 py-3 text-xs uppercase border font-light rounded-sm tracking-widest third-font transition-all ease-in-out duration-300 ${L.includes(m.value)?"bg-gray-100 font-medium text-gray-900 ring-2 ring-gray-300/20":"bg-white text-gray-800 hover:bg-gray-100 hover:text-gray-900"} focus:outline-none`,children:m.label},m.value))})}),n.jsx("div",{className:"space-y-4",children:n.jsx(G,{value:l,onChange:de,options:o,placeholder:n.jsx(k,{id:"section.statePlaceholder",defaultMessage:"Select state"}),className:"w-full uppercase third-font text-gray-500 text-xs rounded-lg",styles:Y})}),n.jsx("div",{className:"space-y-4",children:n.jsx(G,{value:d,onChange:he,options:i,placeholder:n.jsx(k,{id:"section.municipalityPlaceholder",defaultMessage:"Select locality"}),className:"w-full uppercase third-font text-gray-500 text-xs rounded-lg",styles:Y})}),n.jsx("div",{className:"py-1 border-t border-b",children:n.jsx(je,{minPrice:b,maxPrice:j,setMinPrice:y,setMaxPrice:f,formatPrice:pe,category:t})}),P&&n.jsx("div",{className:"text-center transition-all ease-in-out duration-300",children:n.jsx("button",{onClick:fe,className:"px-6 py-3 bg-gray-900 uppercase text-white rounded-sm text-xs font-light tracking-wider third-font hover:bg-gray-800 focus:outline-none",children:n.jsx(k,{id:"section.showall",defaultMessage:"Show All Properties"})})})]})]})]})}),n.jsx("div",{className:"hidden lg:block",children:n.jsxs("div",{className:"px-4",children:[n.jsx(we,{searchTerm:c,setSearchTerm:r}),n.jsxs("div",{className:"space-y-8 mt-4",children:[n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"relative inline-flex justify-center items-center w-full",children:[n.jsx("div",{className:"flex justify-center space-x-4",children:s.map((m,S)=>n.jsx("button",{ref:B=>R.current[S]=B,onClick:()=>W(m.value,S),className:`px-4 py-2 uppercase text-xs tracking-wider third-font transition-all ease-in-out duration-300 ${C===m.value?"bg-white font-semibold text-gray-900 border-b-2 border-gray-900":"bg-white text-gray-800 hover:text-gray-900"} focus:outline-none`,children:m.label},m.value))}),n.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 bg-gray-900 transition-all duration-300 ease-in-out",style:H})]})}),n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.map(m=>n.jsx("button",{onClick:()=>ue(m.value),className:`inline-block px-2 py-3 text-xs uppercase border font-light rounded-sm tracking-widest third-font transition-all ease-in-out duration-300 ${L.includes(m.value)?"bg-gray-100 font-medium text-gray-900 ring-2 ring-gray-300/20":"bg-white text-gray-800 hover:bg-gray-100 hover:text-gray-900"} focus:outline-none`,children:m.label},m.value))})}),n.jsx("div",{className:"space-y-4",children:n.jsx(G,{value:l,onChange:de,options:o,placeholder:n.jsx(k,{id:"section.statePlaceholder",defaultMessage:"Select state"}),className:"w-full uppercase third-font text-gray-500 text-xs rounded-lg",styles:Y})}),n.jsx("div",{className:"space-y-4",children:n.jsx(G,{value:d,onChange:he,options:i,placeholder:n.jsx(k,{id:"section.municipalityPlaceholder",defaultMessage:"Select locality"}),className:"w-full uppercase third-font text-gray-500 text-xs rounded-lg",styles:Y})}),n.jsx("div",{className:"py-1 border-t border-b",children:n.jsx(je,{minPrice:b,maxPrice:j,setMinPrice:y,setMaxPrice:f,allProperties:M,formatPrice:pe})}),P&&n.jsx("div",{className:"text-center transition-all ease-in-out duraciÃ³n-300",children:n.jsx("button",{onClick:fe,className:"px-6 py-3 bg-gray-900 uppercase text-white rounded-sm text-xs font-light tracking-wider third-font hover:bg-gray-800 focus:outline-none",children:n.jsx(k,{id:"section.showall",defaultMessage:"Show All Properties"})})})]})]})})]})},ct=({properties:c,searchTerm:r,minPrice:s,maxPrice:t,selectedState:e,selectedMunicipality:o,selectedPropertyType:l,selectedAvailability:a,sortOption:i})=>{const d=u=>u.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return g.useMemo(()=>!c||c.length===0?[]:c.filter(u=>{const p=d(r),x=d(u.title.props.defaultMessage||"").includes(p)||d(u.description.props.defaultMessage||"").includes(p)||d(u.location.city||"").includes(p)||d(u.location.state||"").includes(p)||(u.features||[]).some(M=>d(M.label||"").includes(p))||(u.keywords||[]).some(M=>d(M||"").includes(p)),b=u.price>=s&&u.price<=t,j=e?u.location.state===e.value:!0,y=o?u.location.municipality===o.value:!0,f=l.length?l.some(M=>u.propertyType===M):!0,v=a==="inStock"&&u.availableForSale===!0||a==="preOrder"&&u.availableForPreSale===!0||a==="forRent"&&u.availableForRent===!0;return x&&b&&j&&y&&f&&v}).sort((u,p)=>i?i==="priceAsc"?u.price-p.price:i==="priceDesc"?p.price-u.price:0:0),[c,r,s,t,e,o,l,a,i])},ut=()=>{const c=Se(),[r,s]=g.useState(""),[t,e]=g.useState(0),[o,l]=g.useState(15e6),[a,i]=g.useState(null),[d,h]=g.useState(null),[u,p]=g.useState([]),[x,b]=g.useState("inStock"),[j,y]=g.useState(null),[f]=g.useState(null),[v,M]=g.useState(1),T=8;g.useEffect(()=>{const A=new URLSearchParams(c.search).get("availability");A&&b(A)},[c.search]);const P=ct({properties:O,searchTerm:r,minPrice:t,maxPrice:o,selectedState:a,selectedMunicipality:d,selectedPropertyType:u,selectedAvailability:x,sortOption:f});g.useEffect(()=>{const w=localStorage.getItem("currentPage");w&&M(Number(w))},[]),g.useEffect(()=>{x==="forRent"&&O.filter(A=>A.availableForRent).map(A=>A.price).length>0||(e(0),l(5e7))},[x,O]),g.useEffect(()=>{a&&h(null)},[a]),g.useEffect(()=>{const w=Math.ceil(P.length/T);v>w&&M(1)},[v,P.length,T,r,a,d,u,x,t,o]);const N=g.useCallback(()=>{s(""),i(null),h(null),p([]),b("inStock"),e(0),l(5e7)},[]),C=g.useCallback(async w=>{const A=w.image;try{const W=await(await fetch(A)).blob(),$=new File([W],"property.jpg",{type:"image/jpeg"});navigator.share?await navigator.share({title:w.title.props.defaultMessage,text:`Echa un vistazo a esta propiedad: ${w.title.props.defaultMessage}`,files:[$],url:`${window.location.origin}/properties/${w.id}`}):alert("La funciÃ³n de compartir no estÃ¡ soportada en este navegador.")}catch(R){console.error("Error al compartir la propiedad:",R)}},[]),E=g.useMemo(()=>P.slice((v-1)*T,v*T),[P,v,T]),L=g.useMemo(()=>[{value:"inStock",label:n.jsx(k,{id:"availability.inStock",defaultMessage:"Venta"})},{value:"preOrder",label:n.jsx(k,{id:"availability.preOrder",defaultMessage:"Preventa"})},{value:"forRent",label:n.jsx(k,{id:"availability.forRent",defaultMessage:"Renta"})}],[]),Z=g.useMemo(()=>[{value:"house",label:n.jsx(k,{id:"propertyType.house",defaultMessage:"Casa"})},{value:"apartment",label:n.jsx(k,{id:"propertyType.apartment",defaultMessage:"Departamento"})},{value:"land",label:n.jsx(k,{id:"propertyType.land",defaultMessage:"Terreno"})},{value:"commercial",label:n.jsx(k,{id:"propertyType.commercial",defaultMessage:"Comercial"})}],[]),H=g.useMemo(()=>[...new Set(O.map(w=>w.location.state))].map(w=>({value:w,label:w})),[O]),ee=g.useMemo(()=>a?[...new Set(O.filter(w=>w.location.state===a.value).map(w=>w.location.municipality))].map(w=>({value:w,label:w})):[],[a,O]);return n.jsxs("div",{children:[n.jsx(nt,{}),n.jsx("section",{className:"bg-white relative",children:n.jsxs("div",{className:"flex flex-col lg:flex-row h-screen",children:[n.jsx("div",{className:"w-full lg:w-3/12 lg:h-screen overflow-y-auto",children:n.jsx(lt,{searchTerm:r,setSearchTerm:s,availabilityOptions:L,selectedAvailability:x,setSelectedAvailability:b,states:H,selectedState:a,setSelectedState:i,municipalities:ee,selectedMunicipality:d,setSelectedMunicipality:h,propertyTypeOptions:Z,selectedPropertyType:u,setSelectedPropertyType:p,minPrice:t,maxPrice:o,setMinPrice:e,setMaxPrice:l,resetFilters:N,filteredProperties:P})}),n.jsx("div",{className:"hidden lg:block lg:w-1/2 lg:h-screen",children:n.jsx(st,{properties:P,hoveredProperty:j})}),n.jsx("div",{className:"w-full lg:w-3/12 lg:h-screen overflow-y-auto",children:n.jsxs("div",{className:"px-4 mt-24 lg:mt-0 lg:px-2",children:[E.length>0?n.jsx("div",{className:"grid grid-cols-1 gap-4",children:E.map(w=>n.jsx(Je,{property:w,shareProperty:C,setHoveredProperty:y},w.id))}):n.jsx("div",{className:"text-center py-20",children:n.jsx("p",{className:"text-4xl lg:text-2xl font-light text-gray-700",children:n.jsx(k,{id:"noPropertiesFound",defaultMessage:"No se encontraron propiedades"})})}),E.length>0&&n.jsx(Xe,{currentPage:v,propertiesPerPage:T,totalProperties:P.length,paginate:w=>{M(w),localStorage.setItem("currentPage",w)}})]})})]})})]})};function mt(){return g.useEffect(()=>{window.scrollTo(0,0)},[]),n.jsxs("div",{children:[n.jsxs(Ue,{children:[n.jsxs("title",{children:["Propiedades | ",F.companyName]}),n.jsx("meta",{name:"description",content:F.description}),n.jsx("meta",{name:"keywords",content:F.keywords}),n.jsx("meta",{name:"robots",content:"all"}),n.jsx("link",{rel:"canonical",href:F.websiteUrl}),n.jsx("meta",{name:"author",content:F.companyName}),n.jsx("meta",{name:"publisher",content:F.companyName}),n.jsx("meta",{property:"og:title",content:F.companyName}),n.jsx("meta",{property:"og:description",content:F.description}),n.jsx("meta",{property:"og:url",content:F.websiteUrl}),n.jsx("meta",{property:"og:image",content:F.logo})]}),n.jsx(Ye,{}),n.jsx(ut,{})]})}export{mt as default};
