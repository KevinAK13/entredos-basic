{"version":3,"file":"react-use-typing-effect.cjs.development.js","sources":["../src/useInterval.tsx","../src/index.tsx"],"sourcesContent":["import React, { useRef } from 'react';\n\nfunction useInterval(callback: () => void, delay: number | null) {\n  const savedCallback = useRef<() => void | undefined>();\n\n  // Remember the latest callback.\n  React.useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  React.useEffect(() => {\n    function tick() {\n      if (typeof savedCallback.current === 'function') {\n        savedCallback.current();\n      }\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n\nexport default useInterval;\n","import React from 'react';\nimport useInterval from './useInterval';\n\nexport interface Props {\n  over: string | string[];\n  charSpeed?: number;\n  loop?: boolean;\n  delayEnd?: number;\n}\n\nfunction useTypingEffect({\n  over,\n  charSpeed = 100,\n  loop = true,\n  delayEnd = 500,\n}: Props): string {\n  const savedMessage = React.useRef<string[]>(['']);\n  const inWordIndex = React.useRef<number>(0);\n  const inArrayIndex = React.useRef<number>(0);\n\n  React.useEffect(() => {\n    if (typeof over === 'string') {\n      savedMessage.current = [over];\n    } else if (Array.isArray(over)) {\n      savedMessage.current = over.map(el => el.toString());\n    }\n  }, [over]);\n  if (typeof over === 'string') {\n  }\n\n  const [display, setDisplay] = React.useState<string>(\n    savedMessage.current\n      ? savedMessage.current[inArrayIndex.current][inWordIndex.current]\n      : ''\n  );\n\n  //Go to next\n  useInterval(() => {\n    if (\n      inWordIndex.current <=\n      savedMessage.current[inArrayIndex.current].length + delayEnd / charSpeed\n    ) {\n      inWordIndex.current = inWordIndex.current + 1;\n      setDisplay(\n        savedMessage.current[inArrayIndex.current].slice(0, inWordIndex.current)\n      );\n    } else {\n      //Current word is finished\n      if (inArrayIndex.current < savedMessage.current.length - 1) {\n        inArrayIndex.current = inArrayIndex.current + 1;\n      } else if (loop) {\n        inArrayIndex.current = 0;\n      }\n      inWordIndex.current = 0;\n    }\n  }, charSpeed);\n\n  return display;\n}\n\nexport default useTypingEffect;\n"],"names":["useInterval","callback","delay","savedCallback","useRef","React","useEffect","current","tick","id","setInterval","clearInterval","useTypingEffect","over","charSpeed","loop","delayEnd","savedMessage","inWordIndex","inArrayIndex","Array","isArray","map","el","toString","useState","display","setDisplay","length","slice"],"mappings":";;;;;;;;;AAEA,SAASA,WAAT,CAAqBC,QAArB,EAA2CC,KAA3C;AACE,MAAMC,aAAa,GAAGC,YAAM,EAA5B;;AAGAC,EAAAA,cAAK,CAACC,SAAN,CAAgB;AACdH,IAAAA,aAAa,CAACI,OAAd,GAAwBN,QAAxB;AACD,GAFD,EAEG,CAACA,QAAD,CAFH;;AAKAI,EAAAA,cAAK,CAACC,SAAN,CAAgB;AACd,aAASE,IAAT;AACE,UAAI,OAAOL,aAAa,CAACI,OAArB,KAAiC,UAArC,EAAiD;AAC/CJ,QAAAA,aAAa,CAACI,OAAd;AACD;AACF;;AACD,QAAIL,KAAK,KAAK,IAAd,EAAoB;AAClB,UAAIO,EAAE,GAAGC,WAAW,CAACF,IAAD,EAAON,KAAP,CAApB;AACA,aAAO;AAAA,eAAMS,aAAa,CAACF,EAAD,CAAnB;AAAA,OAAP;AACD;AACF,GAVD,EAUG,CAACP,KAAD,CAVH;AAWD;;ACZD,SAASU,eAAT;MACEC,YAAAA;4BACAC;MAAAA,wCAAY;uBACZC;MAAAA,8BAAO;2BACPC;MAAAA,sCAAW;AAEX,MAAMC,YAAY,GAAGZ,cAAK,CAACD,MAAN,CAAuB,CAAC,EAAD,CAAvB,CAArB;AACA,MAAMc,WAAW,GAAGb,cAAK,CAACD,MAAN,CAAqB,CAArB,CAApB;AACA,MAAMe,YAAY,GAAGd,cAAK,CAACD,MAAN,CAAqB,CAArB,CAArB;AAEAC,EAAAA,cAAK,CAACC,SAAN,CAAgB;AACd,QAAI,OAAOO,IAAP,KAAgB,QAApB,EAA8B;AAC5BI,MAAAA,YAAY,CAACV,OAAb,GAAuB,CAACM,IAAD,CAAvB;AACD,KAFD,MAEO,IAAIO,KAAK,CAACC,OAAN,CAAcR,IAAd,CAAJ,EAAyB;AAC9BI,MAAAA,YAAY,CAACV,OAAb,GAAuBM,IAAI,CAACS,GAAL,CAAS,UAAAC,EAAE;AAAA,eAAIA,EAAE,CAACC,QAAH,EAAJ;AAAA,OAAX,CAAvB;AACD;AACF,GAND,EAMG,CAACX,IAAD,CANH;;wBAU8BR,cAAK,CAACoB,QAAN,CAC5BR,YAAY,CAACV,OAAb,GACIU,YAAY,CAACV,OAAb,CAAqBY,YAAY,CAACZ,OAAlC,EAA2CW,WAAW,CAACX,OAAvD,CADJ,GAEI,EAHwB;MAAvBmB;MAASC;;;AAOhB3B,EAAAA,WAAW,CAAC;AACV,QACEkB,WAAW,CAACX,OAAZ,IACAU,YAAY,CAACV,OAAb,CAAqBY,YAAY,CAACZ,OAAlC,EAA2CqB,MAA3C,GAAoDZ,QAAQ,GAAGF,SAFjE,EAGE;AACAI,MAAAA,WAAW,CAACX,OAAZ,GAAsBW,WAAW,CAACX,OAAZ,GAAsB,CAA5C;AACAoB,MAAAA,UAAU,CACRV,YAAY,CAACV,OAAb,CAAqBY,YAAY,CAACZ,OAAlC,EAA2CsB,KAA3C,CAAiD,CAAjD,EAAoDX,WAAW,CAACX,OAAhE,CADQ,CAAV;AAGD,KARD,MAQO;AACL;AACA,UAAIY,YAAY,CAACZ,OAAb,GAAuBU,YAAY,CAACV,OAAb,CAAqBqB,MAArB,GAA8B,CAAzD,EAA4D;AAC1DT,QAAAA,YAAY,CAACZ,OAAb,GAAuBY,YAAY,CAACZ,OAAb,GAAuB,CAA9C;AACD,OAFD,MAEO,IAAIQ,IAAJ,EAAU;AACfI,QAAAA,YAAY,CAACZ,OAAb,GAAuB,CAAvB;AACD;;AACDW,MAAAA,WAAW,CAACX,OAAZ,GAAsB,CAAtB;AACD;AACF,GAlBU,EAkBRO,SAlBQ,CAAX;AAoBA,SAAOY,OAAP;AACD;;;;"}